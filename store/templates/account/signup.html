{% extends "base.html" %}
{% load static %}
{% load custom_tags %}

{% block title %}SunsetMusicStore | Inscription{% endblock %}

{% block header %}
        <div class="row">
          <h1 id="category">Création de compte</h1>
        </div>
{% endblock %}

{% block body %}
        <div class="card shadow mx-auto" style="width: 80%;">
          <form class="signup" id="signup_form" method="post" action="{% url 'account_signup' %}">
            {% csrf_token %}
            {% if form.non_field_errors %}
            <div class="card-header bg-danger text-white" id="error-field">
              {% for err in form.non_field_errors %}
                {{ err }}
              {% endfor %}
            </div>
            {% endif %}
            <div class="card-body">
              <div class="mb-2">
                <span>Vous possédez déjà un compte ? Vous pouvez donc <a href="{{ login_url }}">vous connecter</a>&hellip;</span>
              </div>
              <div class="form-outline mb-2">
                {{ form.email.errors }}
                {{ form.email|add_css:'form-control form-control-lg shadow-none' }}
              </div>
              <div class="form-outline mb-2">
                {{ form.first_name.errors }}
                {{ form.first_name|add_css:'form-control form-control-lg shadow-none' }}
              </div>
              <div class="form-outline mb-2">
                {{ form.last_name.errors }}
                {{ form.last_name|add_css:'form-control form-control-lg shadow-none' }}
              </div>
              <div class="form-outline mb-2">
                {{ form.phone_number.errors }}
                {{ form.phone_number|add_css:'form-control form-control-lg shadow-none' }}
              </div>
              <div class="form-outline mb-2">
                {{ form.password1.errors }}
                {{ form.password1|add_css:'form-control form-control-lg shadow-none' }}
              </div>
              <div class="form-outline mb-2">
                {{ form.password2.errors }}
                {{ form.password2|add_css:'form-control form-control-lg shadow-none' }}
              </div>
              {% if redirect_field_value %}
              <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}"/>
              {% endif %}
            </div>
            <div class="card-footer">
              <div class="d-flex justify-content-center">
                <button class="btn btn-lg btn-warning" type="submit">Création de compte</button>
              </div>
            </div>
          </form>
        </div>
{% endblock %}
